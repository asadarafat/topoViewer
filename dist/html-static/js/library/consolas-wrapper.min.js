(function createConsolaWrapper() {
    const methods = ['log', 'info', 'success', 'warn', 'error', 'debug', 'trace'];
    const wrapper = {};

    methods.forEach(method => {
        wrapper[method] = (...args) => {
            // Create an error to get the stack trace
            const error = new Error();
            const stack = error.stack.split('\n');

            // Locate the caller's file and line number
            const stackLine = stack[2]; // Adjust index if needed
            const match = stackLine.match(/(http.*):(\d+):(\d+)/);

            if (match) {
                const fileUrl = match[1];
                const line = match[2];
                const column = match[3];

                // Format the log message
                const location = `%c${fileUrl}:${line}:${column}`;
                const style = 'color: blue; text-decoration: underline;';

                // Call the appropriate consola method
                consola[method](`${location}`, style, ...args);
            } else {
                consola[method](...args); // Fallback to normal logging
            }
        };
    });

    // Expose the wrapper globally
    window.consolaWrapper = wrapper;
})();