{
    "response": {
        "status": 200,
        "startRow": 0,
        "endRow": 1,
        "totalRows": 1,
        "next": "None",
        "data": [
            {
                "id": "47dc6171-a278-4ebe-8f2f-532179d103a0",
                "description": null,
                "state_info": null,
                "project_id": "<default-project>",
                "created_at": "2022-12-02 00:00:39",
                "updated_at": "2022-12-02 00:01:33",
                "workflow_id": "0b938669-faf4-4d27-9919-0a84375fac7f",
                "workflow_name": "Find_LSP_Main_WF",
                "workflow_namespace": "",
                "root_execution_id": null,
                "state": "SUCCESS",
                "input": {
                    "serviceName": "L3VPN01-multi-instance-InterAS-B-2140",
                    "intentType": "vprn"
                },
                "params": {
                    "env": {
                        "nspServer": "147.75.202.26",
                        "nfmpIp": "147.75.202.27",
                        "gitOwner": "nokia",
                        "gitRepository": "nsp-workflow",
                        "gitType": "github",
                        "gitBranch": "rel21.6",
                        "gitSource": "https://github.com",
                        "gitToken": "null",
                        "_name": "DefaultEnv",
                        "token_auth": "***",
                        "_user": "admin",
                        "_usergroup": "admin"
                    },
                    "notify": [
                        {
                            "url": "https://workflow-manager:443/wfm/api/v1/execution/kafkaNotify",
                            "type": "webhook",
                            "headers": {
                                "Content-Type": "application/json",
                                "Accept": "application/json",
                                "Authorization": "***"
                            }
                        }
                    ],
                    "namespace": ""
                },
                "output": {
                    "status": "Success",
                    "result": {
                        "serviceName": "L3VPN01-multi-instance-InterAS-B-2140",
                        "idListOk": [
                            {
                                "serviceId": "13",
                                "nodeIp": "10.10.10.6",
                                "aarafat-tag": " ASBR router hardcoded in R6/7/9/10                                               ",
                                "ASBR": "true",

                                "aarafat-tag": "rd is route-distingguiser 45000:2140, get from vprn config ",
                                "aarafat-tag": " A:R6-PE-ASBR# /show router bgp routes vpn-ipv4 rd 45000:2140 brief | match *>                                              ",
                                "aarafat-tag": " *>i   45000:2140:1.1.1.0/24                                            ",
                                "aarafat-tag": " *>i   45000:2140:5.5.5.0/24                                            ",
                                "aarafat-tag": " *>i   45000:2140:7.7.7.0/24                                            ",
                                "aarafat-tag": " *>i   45000:2140:8.8.8.0/24                                            ",

                                "aarafat-tag": " ## continue checking to confirm the route coming form other ASBR     ",
                                "aarafat-tag": " ## harcoded bgp neighbor for R6, neighbor is 10.6.9.2      ",
                                "aarafat-tag": " ## harcoded bgp neighbor for R9, neighbor is 10.6.9.1      ",
                                "aarafat-tag": " ## harcoded bgp neighbor for R7, neighbor is 10.7.10.2     ",
                                "aarafat-tag": " ## harcoded bgp neighbor for R10, neighbor is 10.7.10.1     ",

                                "aarafat-tag": " A:R6-PE-ASBR# /show router bgp neighbor 10.6.9.2 received-routes vpn-ipv4 brief | match *> | match 45000:2140:1.1.1.0/24  ",
                                "aarafat-tag": " A:R6-PE-ASBR# /show router bgp neighbor 10.6.9.2 received-routes vpn-ipv4 brief | match *> | match 45000:2140:5.5.5.0/24  ",
                                "aarafat-tag": " A:R6-PE-ASBR# /show router bgp neighbor 10.6.9.2 received-routes vpn-ipv4 brief | match *> | match 45000:2140:7.7.7.0/24  ",
                                "aarafat-tag": " A:R6-PE-ASBR# /show router bgp neighbor 10.6.9.2 received-routes vpn-ipv4 brief | match *> | match 45000:2140:8.8.8.0/24   ",
                                "aarafat-tag": " *>i   45000:2140:8.8.8.0/24                                            ",

                                "aarafat-tag": " ## if this command return any value, then continue checking if not stop ",

                                "aarafat-tag": " ## if the /show router bgp neighbor 10.6.9.2 return any value then decide service-tunnel-type is labeled-VPN-IPv4",

                                "aarafat-tag": " ## now parsed the following output to get interface id      ",
                                "aarafat-tag": " A:R6-PE-ASBR#  /show router bgp neighbor 10.6.9.2 | match \"Local Address\"     ",
                                "aarafat-tag": " Local Address        : 10.6.9.1 ",
                                "aarafat-tag": " A:R6-PE-ASBR# /show router interface | match 10.6.9.1 pre-lines 1             ",
                                "aarafat-tag": " toR9                             Up        Up/Down     Network 1/1/3:0 ",
                                "aarafat-tag": "    10.6.9.1/29                                                 n/a ",
                                "aarafat-tag": " A:R6-PE-ASBR#  ",



                                "aarafat-tag": "The following command shall be executed in all ASBR",
                                "aarafat-tag": "The following command shall be executed in all ASBR",

                                "aarafat-tag":" ### step 01 - in each ASBR, perform the following command to get the nextHop of vpn-ipv4 route. ",                   

                                "aarafat-tag": "A:R6-PE-ASBR# /show router bgp routes vpn-ipv4 rd 45000:2140 | match *>i post-lines 1   ", 
                                "aarafat-tag": "*>i   45000:2140:1.1.1.0/24                              100         None  ", 
                                "aarafat-tag": "      10.10.10.1                                         4           20000  ", 
                                "aarafat-tag": "*>i   45000:2140:5.5.5.0/24                              100         None  ", 
                                "aarafat-tag": "      10.10.10.5                                         3622        10000  ", 
                                "aarafat-tag": "*>i   45000:2140:7.7.7.0/24                              100         None  ", 
                                "aarafat-tag": "      10.10.10.7                                         1829        20000  ", 
                                "aarafat-tag": "*>i   45000:2140:8.8.8.0/24                              None        None  ", 
                                "aarafat-tag": "      10.6.9.2                                           5186        0  ", 
                                "aarafat-tag": "A:R6-PE-ASBR#   ", 
                                
                                "aarafat-tag":" ### step 02 -  get Only the first RSVP list, in below example with Tunnel ID: 1 ",
                                "aarafat-tag":" A:R6-PE-ASBR>config>router>bgp# /show router tunnel-table | match 10.10.10.1  ",
                                "aarafat-tag":" 10.10.10.1/32         sdp       MPLS  1110      5      10.10.10.1     0 ",
                                "aarafat-tag":" 10.10.10.1/32         sdp       MPLS  1210      5      10.10.10.1     0 ",
                                "aarafat-tag":" 10.10.10.1/32         rsvp      MPLS  1         7      10.3.6.1       20000 ",
                                "aarafat-tag":" 10.10.10.1/32         rsvp      MPLS  7         7      10.3.6.1       20000 ",
                                "aarafat-tag":" 10.10.10.1/32         rsvp      MPLS  8         7      10.3.6.1       20000 ",
                                "aarafat-tag":" 10.10.10.1/32         rsvp      MPLS  9         7      10.3.6.1       20000 ",
                                "aarafat-tag":" 10.10.10.1/32         sr-te     MPLS  655362    8      10.3.6.1       20000 ",
                                "aarafat-tag":" 10.10.10.1/32 [L]     isis (0)  MPLS  524305    11     10.3.6.1       20000 ",
                                 
                                "aarafat-tag":" ### step 03 - used Tunnel ID: 1, to get the LSP Name: ",
                                 
                                "aarafat-tag":"  A:R6-PE-ASBR>config>router>bgp# /show router mpls lsp detail | match \"LSP Tunnel ID        : 1\" pre-lines 1 ",
                                "aarafat-tag":"  LSP Name   : pccRsvp-from-10.10.10.6-to-10.10.10.1 ",
                                "aarafat-tag":"  LSP Type        : RegularLsp                LSP Tunnel ID        : 1 ",
                                "aarafat-tag":"  A:R6-PE-ASBR>config>router>bgp#  ",
                                 
                                "aarafat-tag":" ### step 04 - ### then Build the lsp list ",
                                "aarafat-tag":"  ",
                                "aarafat-tag":"                                     { ",
                                "aarafat-tag":"                                         \"type\": \"rsvp\", ",
                                "aarafat-tag":"  ",
                                "aarafat-tag":"                                         \"lspName\": [ ",
                                "aarafat-tag":"                                             \"pccRsvp-from-10.10.10.6-to-10.10.10.1\" ",
                                "aarafat-tag":"                                         ] ",
                                "aarafat-tag":"                                     }, ",
                                
                                "aarafat-tag":" ### repeat for all next-nexhop in the step 01. ",
                                "aarafat-tag":" A:R6-PE-ASBR>config>router>bgp# /show router tunnel-table | match 10.10.10.5  ",
                                "aarafat-tag":" 10.10.10.5/32         sdp       MPLS  1120      5      10.10.10.5     0 ",
                                "aarafat-tag":" 10.10.10.5/32         sdp       MPLS  1130      5      10.10.10.5     0 ",
                                "aarafat-tag":" 10.10.10.5/32         sdp       MPLS  1220      5      10.10.10.5     0 ",
                                "aarafat-tag":" 10.10.10.5/32         sdp       MPLS  1230      5      10.10.10.5     0 ",
                                "aarafat-tag":" 10.10.10.5/32         rsvp      MPLS  4         7      10.3.6.1       20000 ",
                                "aarafat-tag":" 10.10.10.5/32         sr-te     MPLS  655364    8      10.3.6.1       20000 ",
                                "aarafat-tag":" 10.10.10.5/32         bgp       MPLS  262198    12     10.10.10.3     1000 ",
                                "aarafat-tag":" 10.10.10.5/32         bgp       MPLS  262198    12     10.10.10.4     1000 ",
                                "aarafat-tag":" A:R6-PE-ASBR>config>router>bgp# /show router mpls lsp detail | match \"LSP Tunnel ID        : 4\"  pre-lines 1 ",
                                "aarafat-tag":" LSP Name   : pccRsvp-from-10.10.10.6-to-10.10.10.5 ",
                                "aarafat-tag":" LSP Type        : RegularLsp                LSP Tunnel ID        : 4 ",
                                "aarafat-tag":" A:R6-PE-ASBR>config>router>bgp#  ",
                                
                                "aarafat-tag":"                                     { ",
                                "aarafat-tag":"                                         \"type\": \"rsvp\", ",
                                "aarafat-tag":"  ",
                                "aarafat-tag":"                                         \"lspName\": [ ",
                                "aarafat-tag":"                                             \"pccRsvp-from-10.10.10.6-to-10.10.10.5\" ",
                                "aarafat-tag":"                                         ] ",
                                "aarafat-tag":"                                     }, ",
                                "aarafat-tag":" A:R6-PE-ASBR>config>router>bgp# /show router tunnel-table | match 10.10.10.7                    ",             
                                "aarafat-tag":" 10.10.10.7/32         rsvp      MPLS  5         7      10.6.4.2       20000 ",
                                "aarafat-tag":" 10.10.10.7/32         sr-te     MPLS  655365    8      10.6.4.2       20000 ",
                                "aarafat-tag":" 10.10.10.7/32         isis (0)  MPLS  524300    11     10.3.6.1       20000 ",
                                "aarafat-tag":" 10.10.10.7/32         isis (0)  MPLS  524300    11     10.6.4.2       20000 ",
                                "aarafat-tag":" A:R6-PE-ASBR>config>router>bgp# /show router mpls lsp detail | match \"LSP Tunnel ID        : 5\"  pre-lines 1 ",
                                "aarafat-tag":" LSP Name   : pccRsvp-from-10.10.10.6-to-10.10.10.7 ",
                                "aarafat-tag":" LSP Type        : RegularLsp                LSP Tunnel ID        : 5 ",
                                "aarafat-tag":" A:R6-PE-ASBR>config>router>bgp#  ",
                                "aarafat-tag":"                                     { ",
                                "aarafat-tag":"                                         \"type\": \"rsvp\", ",
                                "aarafat-tag":"  ",
                                "aarafat-tag":"                                         \"lspName\": [ ",
                                "aarafat-tag":"                                             \"pccRsvp-from-10.10.10.6-to-10.10.10.7\" ",
                                "aarafat-tag":"                                         ] ",
                                "aarafat-tag":"                                     }, ",
                                
                                "aarafat-tag":" ### the following is missing then just ignore ",
                                "aarafat-tag":" A:R6-PE-ASBR>config>router>bgp# /show router tunnel-table 10.6.9.2   ",
                                "aarafat-tag":"  ",
                                "aarafat-tag":" =============================================================================== ",
                                "aarafat-tag":" IPv4 Tunnel Table (Router: Base) ",
                                "aarafat-tag":" =============================================================================== ",
                                "aarafat-tag":" Destination           Owner     Encap TunnelId  Pref   Nexthop        Metric ",
                                "aarafat-tag":"    Color                                                               ",
                                "aarafat-tag":" ------------------------------------------------------------------------------- ",
                                "aarafat-tag":" No Matching Entries. ",
                                "aarafat-tag":" ------------------------------------------------------------------------------- ",
                                "aarafat-tag":" Flags: B = BGP or MPLS backup hop available ",
                                "aarafat-tag":"        L = Loop-Free Alternate (LFA) hop available ",
                                "aarafat-tag":"        E = Inactive best-external BGP route ",
                                "aarafat-tag":"        k = RIB-API or Forwarding Policy backup hop ",
                                "aarafat-tag":" =============================================================================== ",
                                "aarafat-tag":" A:R6-PE-ASBR>config>router>bgp#  ",

                                "serviceTunnel":[
                                    {
                                        "type": "labeled-VPN-IPv4",
                                        "interface-id": "1/1/3:0",
                                        "aarafat-tag": " next-hop is hardcoded R6 neighbor  ",
                                        "next-hop": "10.6.9.2",
                                        "bgp-local-address": "10.6.9.1",
                                        "bgp-peer-address": "10.6.9.2",

                                        "lspName": [
                                            ""
                                        ]
                                    }, 
                                    {
                                        "type": "rsvp",

                                        "lspName": [
                                            "pccRsvp-from-10.10.10.6-to-10.10.10.1"
                                        ]
                                    },
                                    {
                                        "type": "rsvp",

                                        "lspName": [
                                            "pccRsvp-from-10.10.10.6-to-10.10.10.5"
                                        ]
                                    },
                                    {
                                        "type": "rsvp",

                                        "lspName": [
                                            "pccRsvp-from-10.10.10.6-to-10.10.10.7"
                                        ]
                                    }
                                ],
                                "As-Number": "65000"
                            },
                            {
                                "serviceId": "13",
                                "nodeIp": "10.10.10.7",
                                "aarafat-tag": " ASBR router hardcoded in R6/7/9/10                                               ",
                                "ASBR": "true",

                                "aarafat-tag": "rd is route-distingguiser 45000:2140, get from vprn config ",
                                "aarafat-tag": "A:R7-PE-ASBR# /show router bgp routes vpn-ipv4 rd 45000:2140 brief | match *> ",
                                "aarafat-tag": "u*>i  45000:2140:1.1.1.0/24                                            ",
                                "aarafat-tag": "u*>i  45000:2140:5.5.5.0/24                                            ",
                                "aarafat-tag": "u*>i  45000:2140:8.8.8.0/24                                            ",
                                "aarafat-tag": "A:R7-PE-ASBR#  ",

                                "aarafat-tag": " ## continue checking to confirm the route coming form other ASBR     ",
                                "aarafat-tag": " ## harcoded bgp neighbor for R6, neighbor is 10.6.9.2      ",
                                "aarafat-tag": " ## harcoded bgp neighbor for R9, neighbor is 10.6.9.1      ",
                                "aarafat-tag": " ## harcoded bgp neighbor for R7, neighbor is 10.7.10.2     ",
                                "aarafat-tag": " ## harcoded bgp neighbor for R10, neighbor is 10.7.10.1     ",

                                "aarafat-tag": " A:R7-PE-ASBR# show router bgp neighbor 10.7.10.2 received-routes vpn-ipv4 brief | match *> | match 45000:2140:1.1.1.0/24 ",
                                "aarafat-tag": " A:R7-PE-ASBR# show router bgp neighbor 10.7.10.2 received-routes vpn-ipv4 brief | match *> | match 45000:2140:5.5.5.0/24 ",
                                "aarafat-tag": " A:R7-PE-ASBR# show router bgp neighbor 10.7.10.2 received-routes vpn-ipv4 brief | match *> | match 45000:2140:8.8.8.0/24 ",
                                "aarafat-tag": " u*>i  45000:2140:8.8.8.0/24                                            ",

                                "aarafat-tag": " ## if this command return any value, then continue checking if not stop ",

                                "aarafat-tag": " ## if the /show router bgp neighbor 10.6.9.2 return any value then decide service-tunnel-type is labeled-VPN-IPv4",

                                "aarafat-tag": " ## now parsed the following output to get interface id      ",
                                "aarafat-tag": " A:R7-PE-ASBR# /show router bgp neighbor 10.7.10.2 | match \"Local Address\"    ",
                                "aarafat-tag": " Local Address        : 10.7.10.1 ",
                                "aarafat-tag": " A:R7-PE-ASBR# /show router interface | match 10.7.10.1 pre-lines 1  ",
                                "aarafat-tag": " toR10                            Up        Up/Down     Network 1/1/1:0 ",
                                "aarafat-tag": "   10.7.10.1/29                                                n/a ",
                                "aarafat-tag": " A:R7-PE-ASBR#  ",

                                "aarafat-tag": " A:R7-PE-ASBR# /show router 13 route-table                                       ",
                                "aarafat-tag": "  ",
                                "aarafat-tag": " =============================================================================== ",
                                "aarafat-tag": " Route Table (Service: 13) ",
                                "aarafat-tag": " =============================================================================== ",
                                "aarafat-tag": " Dest Prefix[Flags]                            Type    Proto     Age        Pref ",
                                "aarafat-tag": "       Next Hop[Interface Name]                                    Metric    ",
                                "aarafat-tag": " ------------------------------------------------------------------------------- ",
                                "aarafat-tag": " 1.1.1.0/24                                    Remote  BGP VPN   04d04h14m  170 ",
                                "aarafat-tag": "        10.10.10.1 (tunneled:RSVP:1)                                 20000 ",
                                "aarafat-tag": " 5.5.5.0/24                                    Remote  BGP VPN   22d08h22m  170 ",
                                "aarafat-tag": "        10.10.10.5 (tunneled:RSVP:3)                                 20000 ",
                                "aarafat-tag": " 7.7.7.0/24                                    Local   Local     50d10h48m  0 ",
                                "aarafat-tag": "        int_2140_1                                                   0 ",
                                "aarafat-tag": " 8.8.8.0/24                                    Remote  BGP VPN   22d07h26m  170 ",
                                "aarafat-tag": "        10.7.10.2                                                    0 ",
                                "aarafat-tag": " ------------------------------------------------------------------------------- ",
                                "aarafat-tag": " No. of Routes: 4 ",
                                "aarafat-tag": " Flags: n = Number of times nexthop is repeated ",
                                "aarafat-tag": "        B = BGP backup route available ",
                                "aarafat-tag": "        L = LFA nexthop available ",
                                "aarafat-tag": "        S = Sticky ECMP requested ",
                                "aarafat-tag": " =============================================================================== ",
                                "aarafat-tag": " A:R7-PE-ASBR#  ",

                                
                                "aarafat-tag": " A:R7-PE-ASBR# /show router bgp routes vpn-ipv4 rd 45000:2140 | match *>i post-lines 1    ",
                                "aarafat-tag": " u*>i  45000:2140:1.1.1.0/24                              100         None ",
                                "aarafat-tag": "       10.10.10.1                                         30          20000 ",
                                "aarafat-tag": " u*>i  45000:2140:5.5.5.0/24                              100         None ",
                                "aarafat-tag": "       10.10.10.5                                         3642        10000 ",
                                "aarafat-tag": " u*>i  45000:2140:8.8.8.0/24                              None        None ",
                                "aarafat-tag": "       10.7.10.2                                          4808        0 ",
                                "aarafat-tag": " A:R7-PE-ASBR# /show router tunnel-table | match 10.10.10.1     ",
                                "aarafat-tag": " 10.10.10.1/32         rsvp      MPLS  1         7      10.3.7.2       20000 ",
                                "aarafat-tag": " 10.10.10.1/32         sr-te     MPLS  655362    8      10.3.7.2       20000 ",
                                "aarafat-tag": " 10.10.10.1/32         sr-te     MPLS  655366    8      10.3.7.2       20000 ",
                                "aarafat-tag": " 10.10.10.1/32         sr-te     MPLS  655369    8      10.3.7.2       20000 ",
                                "aarafat-tag": " 10.10.10.1/32 [L]     isis (0)  MPLS  524298    11     10.3.7.2       20000 ",
                                "aarafat-tag": " A:R7-PE-ASBR# /show router mpls lsp detail | match \"LSP Tunnel ID        : 1\" pre-lines  1 ", 
                                "aarafat-tag": " LSP Name   : pccRsvp-from-10.10.10.7-to-10.10.10.1 ",
                                "aarafat-tag": " LSP Type        : RegularLsp                LSP Tunnel ID        : 1 ",
                                "aarafat-tag": " A:R7-PE-ASBR#  ",
                                "aarafat-tag": " A:R7-PE-ASBR#  ",
                                "aarafat-tag": " A:R7-PE-ASBR# /show router tunnel-table | match 10.10.10.5                               ",  
                                "aarafat-tag": " 10.10.10.5/32         rsvp      MPLS  3         7      10.3.7.2       20000 ",
                                "aarafat-tag": " 10.10.10.5/32         sr-te     MPLS  655365    8      10.3.7.2       20000 ",
                                "aarafat-tag": " 10.10.10.5/32         sr-te     MPLS  655368    8      10.3.7.2       20000 ",
                                "aarafat-tag": " A:R7-PE-ASBR# /show router mpls lsp detail | match \"LSP Tunnel ID        : 3\" pre-lines  1", 
                                "aarafat-tag": " LSP Name   : pccRsvp-from-10.10.10.7-to-10.10.10.5 ",
                                "aarafat-tag": " LSP Type        : RegularLsp                LSP Tunnel ID        : 3 ",
                                "aarafat-tag": " A:R7-PE-ASBR#  ",
                                
                                "aarafat-tag": " Notice the the LSP to 10.10.10.1, 10.10.10.5 are returned both from ASBR and Site  ",
                                "aarafat-tag": " the if the LSP name is similar, just return one, if the lsp name different then return from both ",
                                "aarafat-tag": " the LSP could be different ie Rsvp and Srte",

                                "serviceTunnel":[
                                    {
                                        "type": "labeled-VPN-IPv4",
                                        "interface-id": "1/1/1:0",
                                        "aarafat-tag": " next-hop is hardcoded R7 neighbor  ",
                                        "next-hop": "10.7.10.2",
                                        "bgp-local-address": "10.7.10.1",
                                        "bgp-peer-address": "10.7.10.2",

                                        "lspName": [
                                            ""
                                        ]
                                    }, 
                                    {
                                        "type": "rsvp",

                                        "lspName": [
                                            "pccRsvp-from-10.10.10.7-to-10.10.10.1"
                                        ]
                                    },
                                    {
                                        "type": "rsvp",

                                        "lspName": [
                                            "pccRsvp-from-10.10.10.7-to-10.10.10.5"
                                        ]
                                    },
                                    {
                                        "type": "rsvp",

                                        "lspName": [
                                            "pccRsvp-from-10.10.10.7-to-10.10.10.6"
                                        ]
                                    }
                                ],
                                "As-Number": "65000"
                            },

                            {
                                "serviceId": "13",
                                "nodeIp": "10.10.10.9",
                                "aarafat-tag": " ASBR router hardcoded in R6/7/9/10                                               ",
                                "ASBR": "true",

                                "aarafat-tag": "rd is route-distingguiser 45000:2140, get from vprn config ",

                                "aarafat-tag": " A:R9-PE-ASBR# /show router bgp routes vpn-ipv4 rd 45000:2140 brief | match *> ",
                                "aarafat-tag": " *>i   45000:2140:1.1.1.0/24                                           ",
                                "aarafat-tag": " *>i   45000:2140:5.5.5.0/24                                           ",
                                "aarafat-tag": " *>i   45000:2140:7.7.7.0/24                                           ",
                                "aarafat-tag": " *>i   45000:2140:8.8.8.0/24                                           ",
                                "aarafat-tag": " A:R9-PE-ASBR# ",

                                "aarafat-tag": " ## continue checking to confirm the route coming form other ASBR     ",
                                "aarafat-tag": " ## harcoded bgp neighbor for R6, neighbor is 10.6.9.2      ",
                                "aarafat-tag": " ## harcoded bgp neighbor for R9, neighbor is 10.6.9.1      ",
                                "aarafat-tag": " ## harcoded bgp neighbor for R7, neighbor is 10.7.10.2     ",
                                "aarafat-tag": " ## harcoded bgp neighbor for R10, neighbor is 10.7.10.1     ",

                                "aarafat-tag": " A:R9-PE-ASBR# show router bgp neighbor 10.6.9.1 received-routes vpn-ipv4 brief | match *> | match  45000:2140:1.1.1.0/24     ",
                                "aarafat-tag": " *>i   45000:2140:1.1.1.0/24                                           ",
                                "aarafat-tag": " A:R9-PE-ASBR# show router bgp neighbor 10.6.9.1 received-routes vpn-ipv4 brief | match *> | match   45000:2140:5.5.5.0/24  ",
                                "aarafat-tag": " *>i   45000:2140:5.5.5.0/24                                           ",
                                "aarafat-tag": " A:R9-PE-ASBR# show router bgp neighbor 10.6.9.1 received-routes vpn-ipv4 brief | match *> | match   45000:2140:7.7.7.0/24 ",
                                "aarafat-tag": " *>i   45000:2140:7.7.7.0/24                                           ",
                                "aarafat-tag": " A:R9-PE-ASBR#    ",
                                "aarafat-tag": " A:R9-PE-ASBR# ",

                                "aarafat-tag": " ## if this command return any value, then continue checking if not stop ",

                                "aarafat-tag": " ## if the /show router bgp neighbor 10.6.9.1 return any value then decide service-tunnel-type is labeled-VPN-IPv4",

                                "aarafat-tag": " ## now parsed the following output to get interface id      ",
                                "aarafat-tag": " A:R9-PE-ASBR# show router bgp neighbor 10.6.9.1 | match \"Local Address\"  ",
                                "aarafat-tag": " Local Address        : 10.6.9.2 ",
                                "aarafat-tag": " A:R9-PE-ASBR#  ",
                                "aarafat-tag": " A:R9-PE-ASBR# /show router interface | match 10.6.9.2 pre-lines 1  ",
                                "aarafat-tag": " toR6                             Up        Up/Down     Network 1/1/3:0 ",
                                "aarafat-tag": "    10.6.9.2/29                                                 n/a ",
                                "aarafat-tag": " A:R9-PE-ASBR#  ",

                                "aarafat-tag": " A:R9-PE-ASBR#  /show router bgp routes vpn-ipv4 rd 45000:2140 | match *>i post-lines 1      ",
                                "aarafat-tag": " *>i   45000:2140:1.1.1.0/24                              None        None ",
                                "aarafat-tag": "       10.6.9.1                                           6045        0 ",
                                "aarafat-tag": " *>i   45000:2140:5.5.5.0/24                              None        None ",
                                "aarafat-tag": "       10.6.9.1                                           6123        0 ",
                                "aarafat-tag": " *>i   45000:2140:7.7.7.0/24                              None        None ",
                                "aarafat-tag": "       10.6.9.1                                           2593        0 ",
                                "aarafat-tag": " *>i   45000:2140:8.8.8.0/24                              100         None ",
                                "aarafat-tag": "       10.10.10.8                                         1           10000 ",
                                "aarafat-tag": " A:R9-PE-ASBR#  ",
                                "aarafat-tag": " A:R9-PE-ASBR# /show router tunnel-table | match 10.6.9.1   ",
                                "aarafat-tag": " A:R9-PE-ASBR# /show router tunnel-table | match 10.6.9.1                                  ",
                                "aarafat-tag": " A:R9-PE-ASBR# /show router tunnel-table | match 10.6.9.1  ",
                                "aarafat-tag": " A:R9-PE-ASBR# /show router tunnel-table | match 10.10.10.8  ",
                                "aarafat-tag": " 10.10.10.8/32         sdp       MPLS  1130      5      10.10.10.8     0 ",
                                "aarafat-tag": " 10.10.10.8/32         sdp       MPLS  1230      5      10.10.10.8     0 ",
                                "aarafat-tag": " 10.10.10.8/32         rsvp      MPLS  1         7      10.8.9.1       10000 ",
                                "aarafat-tag": " 10.10.10.8/32         sr-te     MPLS  655362    8      10.8.9.1       10000 ",
                                "aarafat-tag": " 10.10.10.8/32         isis (0)  MPLS  524326    11     10.8.9.1       10000 ",
                                "aarafat-tag": " A:R9-PE-ASBR# show router mpls lsp detail | match \"LSP Tunnel ID        : 1\" pre-lines 1    ",
                                "aarafat-tag": " LSP Name   : pccRsvp-from-10.10.10.9-to-10.10.10.8 ",
                                "aarafat-tag": " LSP Type        : RegularLsp                LSP Tunnel ID        : 1 ",
                                "aarafat-tag": " A:R9-PE-ASBR#  ",


                                "serviceTunnel":[
                                    {
                                        "type": "labeled-VPN-IPv4",
                                        "interface-id": "1/1/3:0",
                                        "aarafat-tag": " next-hop is hardcoded R9 neighbor  ",
                                        "next-hop": "10.6.9.1",
                                        "bgp-local-address": "10.6.9.2",
                                        "bgp-peer-address": "10.6.9.1",
                                        
                                        "lspName": [
                                            ""
                                        ]
                                    },
                                    {
                                        "type": "rsvp",

                                        "lspName": [
                                            "pccRsvp-from-10.10.10.9-to-10.10.10.8"
                                        ]
                                    }
                                ],
                                
                                "As-Number": "55000"
                            },
                            {
                                "serviceId": "13",
                                "nodeIp": "10.10.10.1",
                                "aarafat-tag": " A:R1-PE# /show router 13 route-table                                            ",
                                "aarafat-tag": "  ",
                                "aarafat-tag": " =============================================================================== ",
                                "aarafat-tag": " Route Table (Service: 13) ",
                                "aarafat-tag": " =============================================================================== ",
                                "aarafat-tag": " Dest Prefix[Flags]                            Type    Proto     Age        Pref ",
                                "aarafat-tag": "       Next Hop[Interface Name]                                    Metric    ",
                                "aarafat-tag": " ------------------------------------------------------------------------------- ",
                                "aarafat-tag": " 1.1.1.0/24                                    Local   Local     04d04h43m  0 ",
                                "aarafat-tag": "        int_2140_1                                                   0 ",
                                "aarafat-tag": " 5.5.5.0/24                                    Remote  BGP VPN   04d04h43m  170 ",
                                "aarafat-tag": "        10.10.10.5 (tunneled:RSVP:4)                                 10002 ",
                                "aarafat-tag": " 7.7.7.0/24                                    Remote  BGP VPN   04d04h43m  170 ",
                                "aarafat-tag": "        10.10.10.7 (tunneled:RSVP:6)                                 10002 ",
                                "aarafat-tag": " 8.8.8.0/24                                    Remote  BGP VPN   04d04h43m  170 ",
                                "aarafat-tag": "        10.10.10.6 (tunneled:RSVP:5)                                 10002 ",
                                "aarafat-tag": " ------------------------------------------------------------------------------- ",
                                "aarafat-tag": " No. of Routes: 4 ",
                                "aarafat-tag": " Flags: n = Number of times nexthop is repeated ",
                                "aarafat-tag": "        B = BGP backup route available ",
                                "aarafat-tag": "        L = LFA nexthop available ",
                                "aarafat-tag": "        S = Sticky ECMP requested ",
                                "aarafat-tag": " =============================================================================== ",
                                "aarafat-tag": " A:R1-PE#  ",

                                "serviceTunnel":[
                                    {
                                        "type": "rsvp",

                                        "lspName": [
                                            "pccRsvp-from-10.10.10.1-to-10.10.10.7"
                                        ]
                                    },
                                    {
                                        "type": "rsvp",

                                        "lspName": [
                                            "pccRsvp-from-10.10.10.1-to-10.10.10.5"
                                        ]
                                    },
                                    {
                                        "type": "rsvp",

                                        "lspName": [
                                            "pccRsvp-from-10.10.10.1-to-10.10.10.6"
                                        ]
                                    }
                                ],
                                "As-Number": "65000"
                            },

                            {
                                "serviceId": "13",
                                "nodeIp": "10.10.10.10",
                                "aarafat-tag": " ASBR router hardcoded in R6/7/9/10                                               ",
                                "ASBR": "true",

                                "aarafat-tag": "rd is route-distingguiser 45000:2140, get from vprn config ",

                                "aarafat-tag": " A:R10-PE-ASBR# /show router bgp routes vpn-ipv4 rd 45000:2140 brief | match *>  ",
                                "aarafat-tag": " *>i   45000:2140:1.1.1.0/24                                           ",
                                "aarafat-tag": " *>i   45000:2140:5.5.5.0/24                                           ",
                                "aarafat-tag": " *>i   45000:2140:7.7.7.0/24                                           ",
                                "aarafat-tag": " *>i   45000:2140:8.8.8.0/24                                           ",
                                "aarafat-tag": " A:R10-PE-ASBR# ",

                                "aarafat-tag": " ## continue checking to confirm the route coming form other ASBR     ",
                                "aarafat-tag": " ## harcoded bgp neighbor for R6, neighbor is 10.6.9.2      ",
                                "aarafat-tag": " ## harcoded bgp neighbor for R9, neighbor is 10.6.9.1      ",
                                "aarafat-tag": " ## harcoded bgp neighbor for R7, neighbor is 10.7.10.2     ",
                                "aarafat-tag": " ## harcoded bgp neighbor for R10, neighbor is 10.7.10.1     ",

                                "aarafat-tag": " A:R10-PE-ASBR# show router bgp neighbor 10.7.10.1 received-routes vpn-ipv4 brief | match *> | match  45000:2140:1.1.1.0/24 ",
                                "aarafat-tag": " *>i   45000:2140:1.1.1.0/24                                           ",
                                "aarafat-tag": " A:R10-PE-ASBR# show router bgp neighbor 10.7.10.1 received-routes vpn-ipv4 brief | match *> | match  45000:2140:5.5.5.0/24 ",
                                "aarafat-tag": " *>i   45000:2140:5.5.5.0/24                                           ",
                                "aarafat-tag": " A:R10-PE-ASBR# show router bgp neighbor 10.7.10.1 received-routes vpn-ipv4 brief | match *> | match  45000:2140:7.7.7.0/24 ",
                                "aarafat-tag": " *>i   45000:2140:7.7.7.0/24                                           ",
                                "aarafat-tag": " A:R10-PE-ASBR# show router bgp neighbor 10.7.10.1 received-routes vpn-ipv4 brief | match *> | match   45000:2140:8.8.8.0/24",
                                "aarafat-tag": " A:R10-PE-ASBR# ",

                                "aarafat-tag": " ## if this command return any value, then continue checking if not stop ",

                                "aarafat-tag": " ## if the /show router bgp neighbor 10.7.10.1 return any value then decide service-tunnel-type is labeled-VPN-IPv4",

                                "aarafat-tag": " ## now parsed the following output to get interface id      ",
                                "aarafat-tag": " A:R10-PE-ASBR# show router bgp neighbor 10.7.10.1 | match \"Local Address\"  ",
                                "aarafat-tag": " Local Address        : 10.7.10.2 ",
                                "aarafat-tag": " A:R10-PE-ASBR# /show router interface | match 10.7.10.2 pre-lines 1  ",
                                "aarafat-tag": " toR7                             Up        Up/Down     Network 1/1/3:0 ",
                                "aarafat-tag": "    10.7.10.2/29                                                n/a ",
                                "aarafat-tag": " A:R10-PE-ASBR#  ",

                                "aarafat-tag": " A:R10-PE-ASBR#  /show router bgp routes vpn-ipv4 rd 45000:2140 | match *>i post-lines 1        ",  
                                "aarafat-tag": " *>i   45000:2140:1.1.1.0/24                              None        None ",
                                "aarafat-tag": "       10.7.10.1                                          5796        0 ",
                                "aarafat-tag": " *>i   45000:2140:5.5.5.0/24                              None        None ",
                                "aarafat-tag": "       10.7.10.1                                          5953        0 ",
                                "aarafat-tag": " *>i   45000:2140:7.7.7.0/24                              None        None ",
                                "aarafat-tag": "       10.7.10.1                                          18          0 ",
                                "aarafat-tag": " *>i   45000:2140:8.8.8.0/24                              100         None ",
                                "aarafat-tag": "       10.10.10.8                                         11          10000 ",
                                "aarafat-tag": " A:R10-PE-ASBR#  /show router tunnel-table | match 10.7.10.1  ",
                                "aarafat-tag": " A:R10-PE-ASBR#  /show router tunnel-table | match 10.7.10.1  ",
                                "aarafat-tag": " A:R10-PE-ASBR#  /show router tunnel-table | match 10.7.10.1  ",
                                "aarafat-tag": " A:R10-PE-ASBR#  /show router tunnel-table | match 10.10.10.8  ",
                                "aarafat-tag": " 10.10.10.8/32         rsvp      MPLS  1         7      10.8.10.1      10000 ",
                                "aarafat-tag": " 10.10.10.8/32         sr-te     MPLS  655362    8      10.8.10.1      10000 ",
                                "aarafat-tag": " 10.10.10.8/32         isis (0)  MPLS  524308    11     10.8.10.1      10000 ",
                                "aarafat-tag": " A:R10-PE-ASBR# show router mpls lsp detail | match \"LSP Tunnel ID        : 1\" pre-lines 1  ",
                                "aarafat-tag": " LSP Name   : pccRsvp-from-10.10.10.10-to-10.10.10.8 ",
                                "aarafat-tag": " LSP Type        : RegularLsp                LSP Tunnel ID        : 1 ",
                                "aarafat-tag": " A:R10-PE-ASBR#  ",


                                "serviceTunnel":[
                                    {
                                        "type": "labeled-VPN-IPv4",
                                        "interface-id": "1/1/3:0",
                                        "aarafat-tag": " next-hop is hardcoded R9 neighbor  ",
                                        "next-hop": "10.7.10.1",
                                        "bgp-local-address": "10.7.10.2",
                                        "bgp-peer-address": "10.7.10.1",
                                        "lspName": [
                                            ""
                                        ]
                                    },
                                    {
                                        "type": "rsvp",

                                        "lspName": [
                                            "pccRsvp-from-10.10.10.10-to-10.10.10.8"
                                        ]
                                    }
                                ],
                                "As-Number": "55000"
                            },

                            {
                                "serviceId": "13",
                                "nodeIp": "10.10.10.8",
                                "aarafat-tag": " A:R8-PE# /show router 13 route-table                                             ",
                                "aarafat-tag": "  ",
                                "aarafat-tag": " =============================================================================== ",
                                "aarafat-tag": " Route Table (Service: 13) ",
                                "aarafat-tag": " =============================================================================== ",
                                "aarafat-tag": " Dest Prefix[Flags]                            Type    Proto     Age        Pref ",
                                "aarafat-tag": "       Next Hop[Interface Name]                                    Metric    ",
                                "aarafat-tag": " ------------------------------------------------------------------------------- ",
                                "aarafat-tag": " 1.1.1.0/24                                    Remote  BGP VPN   04d04h34m  170 ",
                                "aarafat-tag": "        10.10.10.9 (tunneled:RSVP:1)                                 10000 ",
                                "aarafat-tag": " 5.5.5.0/24                                    Remote  BGP VPN   22d07h18m  170 ",
                                "aarafat-tag": "        10.10.10.9 (tunneled:RSVP:1)                                 10000 ",
                                "aarafat-tag": " 7.7.7.0/24                                    Remote  BGP VPN   22d07h18m  170 ",
                                "aarafat-tag": "        10.10.10.9 (tunneled:RSVP:1)                                 10000 ",
                                "aarafat-tag": " 8.8.8.0/24                                    Local   Local     22d07h19m  0 ",
                                "aarafat-tag": "        int_2140_1                                                   0 ",
                                "aarafat-tag": " ------------------------------------------------------------------------------- ",
                                "aarafat-tag": " No. of Routes: 4 ",
                                "aarafat-tag": " Flags: n = Number of times nexthop is repeated ",
                                "aarafat-tag": "        B = BGP backup route available ",
                                "aarafat-tag": "        L = LFA nexthop available ",
                                "aarafat-tag": "        S = Sticky ECMP requested ",
                                "aarafat-tag": " =============================================================================== ",
                                "aarafat-tag": " A:R8-PE#  ",
                                "serviceTunnel":[
                                    {
                                        "type": "rsvp",

                                        "lspName": [
                                            "pccRsvp-from-10.10.10.8-to-10.10.10.7"
                                        ]
                                    }
                                ],
                                "As-Number": "55000"
                            },
                            {
                                "serviceId": "13",
                                "nodeIp": "10.10.10.5",
                                "aarafat-tag": " A:R5-PE>config>service>vprn# /show router 13 route-table                         ",
                                "aarafat-tag": "  ",
                                "aarafat-tag": " =============================================================================== ",
                                "aarafat-tag": " Route Table (Service: 13) ",
                                "aarafat-tag": " =============================================================================== ",
                                "aarafat-tag": " Dest Prefix[Flags]                            Type    Proto     Age        Pref ",
                                "aarafat-tag": "       Next Hop[Interface Name]                                    Metric    ",
                                "aarafat-tag": " ------------------------------------------------------------------------------- ",
                                "aarafat-tag": " 1.1.1.0/24                                    Remote  BGP VPN   04d03h47m  170 ",
                                "aarafat-tag": "        10.10.10.1 (tunneled:RSVP:1)                                 20000 ",
                                "aarafat-tag": " 5.5.5.0/24                                    Local   Local     22d08h22m  0 ",
                                "aarafat-tag": "        int_2140_1                                                   0 ",
                                "aarafat-tag": " 7.7.7.0/24                                    Remote  BGP VPN   22d07h09m  170 ",
                                "aarafat-tag": "        10.10.10.7 (tunneled:RSVP:6)                                 20000 ",
                                "aarafat-tag": " 8.8.8.0/24                                    Remote  BGP VPN   22d07h09m  170 ",
                                "aarafat-tag": "        10.10.10.6 (tunneled:RSVP:4)                                 20000 ",
                                "aarafat-tag": " ------------------------------------------------------------------------------- ",
                                "aarafat-tag": " No. of Routes: 4 ",
                                "aarafat-tag": " Flags: n = Number of times nexthop is repeated ",
                                "aarafat-tag": "        B = BGP backup route available ",
                                "aarafat-tag": "        L = LFA nexthop available ",
                                "aarafat-tag": "        S = Sticky ECMP requested ",
                                "aarafat-tag": " =============================================================================== ",
                                "aarafat-tag": " A:R5-PE>config>service>vprn#  ",
                                "serviceTunnel":[
                                    {
                                        "type": "rsvp",

                                        "lspName": [
                                            "pccRsvp-from-10.10.10.5-to-10.10.10.1"
                                        ]
                                    },
                                    {
                                        "type": "rsvp",

                                        "lspName": [
                                            "pccRsvp-from-10.10.10.5-to-10.10.10.7"
                                        ]
                                    },
                                    {
                                        "type": "rsvp",

                                        "lspName": [
                                            "pccRsvp-from-10.10.10.5-to-10.10.10.6"
                                        ]
                                    }
                                ],
                                "As-Number": "65000"
                            }
                        ]
                    }
                },
                "worker": "default"
            }
        ]
    }
}